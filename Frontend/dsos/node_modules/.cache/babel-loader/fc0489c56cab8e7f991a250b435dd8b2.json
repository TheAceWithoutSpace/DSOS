{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ben78\\\\Desktop\\\\Dsos\\\\DSOS\\\\Frontend\\\\dsos\\\\src\\\\components\\\\StorageView.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport AdminCompNav from \"./AdminCompNav\";\nimport StorageGraft from '../components/StorageGraft'; // display to the admin the status of the storage \n\nclass StorageView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Aggregate: [],\n      message: '',\n      flags: [],\n      Tflag: false\n    };\n  }\n\n  componentDidMount() {\n    let flags = []; // get all the aggregates\n\n    axios.get(`Aggregate/`).then(res => {\n      console.log(res);\n      res.data.res.forEach(Aggre => {\n        flags.push(false);\n      });\n      this.setState({\n        Aggregate: res.data.res,\n        flags: flags,\n        Tflag: true\n      });\n    });\n  }\n\n  getMessage(data) {\n    this.setState({\n      message: data.message,\n      presentage: data.presentage\n    });\n  } //onclick of the aggregate the StorageGraft is opend and display the the status of the capacity of the aggregate \n\n\n  onclick(index) {\n    let tempflag = this.state.flags;\n    let el = document.getElementById(index);\n\n    if (el.className === 'collapse') {\n      el.className = 'collapse show';\n      tempflag[index] = true;\n    } else {\n      el.className = 'collapse';\n      tempflag[index] = false;\n    }\n\n    console.log(this.state.flags);\n    this.setState({\n      flags: tempflag\n    });\n  } // create an aggregate table \n\n\n  AggregateTable() {\n    return this.state.Aggregate.map((currentAggre, index) => {\n      console.log(currentAggre);\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"tr\", {\n        key: 'button',\n        onClick: () => {\n          this.onclick(index);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }\n      }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }\n      }, currentAggre.Name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }\n      }, currentAggre.locationstring), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }\n      }, currentAggre.total + 'GB'), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }\n      }, currentAggre.used + 'GB'), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }\n      }, parseInt(currentAggre.used / currentAggre.total * 100) + \"%\")), /*#__PURE__*/React.createElement(\"tr\", {\n        id: index,\n        className: \"collapse\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }\n      }, this.state.flags[index] ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"td\", {\n        colSpan: \"7\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(StorageGraft, {\n        Aggre: currentAggre.Name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 29\n        }\n      }))) : null));\n    });\n  } // render the table\n\n\n  render() {\n    console.log(this.state.Tflag);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cuntiner-fluid \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"sidebarMenu\",\n      className: \"col-md-2 col-lg-2 d-md-block sidebar collapse\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(AdminCompNav, {\n      User: this.props.User,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"main\", {\n      role: \"main\",\n      className: \"col-md-9 ml-sm-auto col-lg-10 px-md-4 bg-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"h2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 16 16\",\n      className: \"bi bi-bookshelf\",\n      fill: \"currentColor\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      fillRule: \"evenodd\",\n      d: \"M2.5 0a.5.5 0 0 1 .5.5V2h10V.5a.5.5 0 0 1 1 0v15a.5.5 0 0 1-1 0V15H3v.5a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5zM3 14h10v-3H3v3zm0-4h10V7H3v3zm0-4h10V3H3v3z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 37\n      }\n    })), \" Storage View\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, \" Get UpToDate Data\")), this.state.Tflag ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-11\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-hover table-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      style: {\n        backgroundColor: \"rgba(20, 16, 200, 0.20)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 49\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 49\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 49\n      }\n    }, \"location\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 49\n      }\n    }, \"Total capacity\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 49\n      }\n    }, \"Allocated ammount\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 49\n      }\n    }, \"Allocated ammount in %\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 45\n      }\n    }, this.AggregateTable()))))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 33\n      }\n    }, \"Loading...\")))))));\n  }\n\n}\n\nexport default StorageView;","map":{"version":3,"sources":["C:/Users/ben78/Desktop/Dsos/DSOS/Frontend/dsos/src/components/StorageView.js"],"names":["React","Component","axios","AdminCompNav","StorageGraft","StorageView","constructor","props","state","Aggregate","message","flags","Tflag","componentDidMount","get","then","res","console","log","data","forEach","Aggre","push","setState","getMessage","presentage","onclick","index","tempflag","el","document","getElementById","className","AggregateTable","map","currentAggre","Name","locationstring","total","used","parseInt","render","User","backgroundColor"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,4BAAzB,C,CACA;;AACA,MAAMC,WAAN,SAA0BJ,SAA1B,CAAmC;AAC/BK,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW;AACPC,MAAAA,SAAS,EAAC,EADH;AAEPC,MAAAA,OAAO,EAAC,EAFD;AAGPC,MAAAA,KAAK,EAAC,EAHC;AAIPC,MAAAA,KAAK,EAAC;AAJC,KAAX;AAMH;;AACDC,EAAAA,iBAAiB,GACjB;AACI,QAAIF,KAAK,GAAC,EAAV,CADJ,CAEI;;AACAT,IAAAA,KAAK,CAACY,GAAN,CAAW,YAAX,EACCC,IADD,CACOC,GAAD,IAAO;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACJA,MAAAA,GAAG,CAACG,IAAJ,CAASH,GAAT,CAAaI,OAAb,CAAqBC,KAAK,IAAI;AAC1BV,QAAAA,KAAK,CAACW,IAAN,CAAW,KAAX;AACH,OAFD;AAGA,WAAKC,QAAL,CAAc;AAACd,QAAAA,SAAS,EAACO,GAAG,CAACG,IAAJ,CAASH,GAApB;AAAwBL,QAAAA,KAAK,EAACA,KAA9B;AAAoCC,QAAAA,KAAK,EAAC;AAA1C,OAAd;AACC,KAPD;AAQH;;AACDY,EAAAA,UAAU,CAACL,IAAD,EACV;AACI,SAAKI,QAAL,CAAc;AAACb,MAAAA,OAAO,EAACS,IAAI,CAACT,OAAd;AAAsBe,MAAAA,UAAU,EAACN,IAAI,CAACM;AAAtC,KAAd;AACH,GA1B8B,CA2B/B;;;AACAC,EAAAA,OAAO,CAACC,KAAD,EAAO;AACV,QAAIC,QAAQ,GAAC,KAAKpB,KAAL,CAAWG,KAAxB;AACA,QAAIkB,EAAE,GAAGC,QAAQ,CAACC,cAAT,CAAwBJ,KAAxB,CAAT;;AACA,QAAIE,EAAE,CAACG,SAAH,KAAe,UAAnB,EAA8B;AAC1BH,MAAAA,EAAE,CAACG,SAAH,GAAa,eAAb;AACAJ,MAAAA,QAAQ,CAACD,KAAD,CAAR,GAAgB,IAAhB;AACH,KAHD,MAGK;AACDE,MAAAA,EAAE,CAACG,SAAH,GAAa,UAAb;AACAJ,MAAAA,QAAQ,CAACD,KAAD,CAAR,GAAgB,KAAhB;AACH;;AACDV,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAL,CAAWG,KAAvB;AACA,SAAKY,QAAL,CAAc;AAACZ,MAAAA,KAAK,EAACiB;AAAP,KAAd;AACH,GAxC8B,CAyC/B;;;AACAK,EAAAA,cAAc,GAAE;AACZ,WAAO,KAAKzB,KAAL,CAAWC,SAAX,CAAqByB,GAArB,CAAyB,CAACC,YAAD,EAAcR,KAAd,KAAsB;AAClDV,MAAAA,OAAO,CAACC,GAAR,CAAYiB,YAAZ;AACA,0BACI,uDACI;AAAI,QAAA,GAAG,EAAE,QAAT;AAAmB,QAAA,OAAO,EAAE,MAAI;AAAC,eAAKT,OAAL,CAAaC,KAAb;AAAoB,SAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,KAAK,GAAC,CAAX,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKQ,YAAY,CAACC,IAAlB,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKD,YAAY,CAACE,cAAlB,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKF,YAAY,CAACG,KAAb,GAAmB,IAAxB,CAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKH,YAAY,CAACI,IAAb,GAAkB,IAAvB,CALJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKC,QAAQ,CAAEL,YAAY,CAACI,IAAb,GAAkBJ,YAAY,CAACG,KAAhC,GAAuC,GAAxC,CAAR,GAAqD,GAA1D,CANJ,CADJ,eASI;AAAI,QAAA,EAAE,EAAEX,KAAR;AAAe,QAAA,SAAS,EAAC,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEK,KAAKnB,KAAL,CAAWG,KAAX,CAAiBgB,KAAjB,iBACE,uDACC;AAAI,QAAA,OAAO,EAAC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,oBAAC,YAAD;AAAc,QAAA,KAAK,EAAEQ,YAAY,CAACC,IAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CADD,CADF,GAOA,IATL,CATJ,CADJ;AAuBK,KAzBF,CAAP;AA0BK,GArEsB,CAsEvB;;;AACRK,EAAAA,MAAM,GAAE;AACJxB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAL,CAAWI,KAAvB;AACA,wBACI,uDACA;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,EAAE,EAAC,aAAR;AAAsB,MAAA,SAAS,EAAC,+CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,YAAD;AAAc,MAAA,IAAI,EAAE,KAAKL,KAAL,CAAWmC,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,eAII;AAAM,MAAA,IAAI,EAAC,MAAX;AAAkB,MAAA,SAAS,EAAC,gDAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,yGAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,KAAK,EAAC,KAAX;AAAiB,MAAA,MAAM,EAAC,KAAxB;AAA8B,MAAA,OAAO,EAAC,WAAtC;AAAkD,MAAA,SAAS,EAAC,iBAA5D;AAA8E,MAAA,IAAI,EAAC,cAAnF;AAAkG,MAAA,KAAK,EAAC,4BAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,QAAQ,EAAC,SAAf;AAAyB,MAAA,CAAC,EAAC,yJAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAIK,eAJL,CADJ,eAOI;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAPJ,CADJ,EAUK,KAAKlC,KAAL,CAAWI,KAAX,gBACD;AAAK,MAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACQ;AAAO,MAAA,SAAS,EAAC,4BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,KAAK,EAAE;AAAC+B,QAAAA,eAAe,EAAC;AAAjB,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,eAEI;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAII;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJJ,eAKI;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BALJ,eAMI;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCANJ,CADJ,CADJ,eAWQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAKV,cAAL,EADD,CAXR,CADR,CADA,CADJ,CADC,gBAsBD;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAgC,MAAA,IAAI,EAAC,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CADJ,CAhCJ,CAJJ,CADJ,CADA,CADJ;AAkDH;;AA3H8B;;AA6HnC,eAAe5B,WAAf","sourcesContent":["import React, { Component } from'react'\r\nimport axios from 'axios'\r\nimport AdminCompNav from \"./AdminCompNav\"\r\nimport StorageGraft from '../components/StorageGraft'\r\n// display to the admin the status of the storage \r\nclass StorageView extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            Aggregate:[],\r\n            message:'',\r\n            flags:[],\r\n            Tflag:false\r\n        }\r\n    }\r\n    componentDidMount()\r\n    {\r\n        let flags=[];\r\n        // get all the aggregates\r\n        axios.get(`Aggregate/`)\r\n        .then((res)=>{\r\n            console.log(res);\r\n        res.data.res.forEach(Aggre => {\r\n            flags.push(false)\r\n        });\r\n        this.setState({Aggregate:res.data.res,flags:flags,Tflag:true})\r\n        });\r\n    }\r\n    getMessage(data)\r\n    {\r\n        this.setState({message:data.message,presentage:data.presentage})\r\n    }\r\n    //onclick of the aggregate the StorageGraft is opend and display the the status of the capacity of the aggregate \r\n    onclick(index){\r\n        let tempflag=this.state.flags;\r\n        let el = document.getElementById(index);\r\n        if( el.className==='collapse'){\r\n            el.className='collapse show';\r\n            tempflag[index]=true;\r\n        }else{\r\n            el.className='collapse'\r\n            tempflag[index]=false;\r\n        }\r\n        console.log(this.state.flags)\r\n        this.setState({flags:tempflag})\r\n    }\r\n    // create an aggregate table \r\n    AggregateTable(){\r\n        return this.state.Aggregate.map((currentAggre,index)=>{\r\n            console.log(currentAggre);\r\n            return(\r\n                <>\r\n                    <tr key={'button'} onClick={()=>{this.onclick(index)}} >\r\n                        <td>{index+1}</td>\r\n                        <td>{currentAggre.Name}</td>\r\n                        <td>{currentAggre.locationstring}</td>\r\n                        <td>{currentAggre.total+'GB'}</td>\r\n                        <td>{currentAggre.used+'GB'}</td>\r\n                        <td>{parseInt((currentAggre.used/currentAggre.total)*100)+\"%\"}</td>\r\n                    </tr>\r\n                    <tr id={index} className=\"collapse\">\r\n                    {/* scope=\"row\" */}\r\n                        {this.state.flags[index]?\r\n                           <> \r\n                            <td colSpan=\"7\">    \r\n                            <StorageGraft Aggre={currentAggre.Name}/>\r\n                                  {/* <SystemGrath Aggre={currentAggre.name} Amount={currentAggre.Amount} getMessage={(message)=>this.getMessage(message)}/> */}\r\n                            </td>\r\n                            </>\r\n                        :null}\r\n                    </tr>\r\n                </>\r\n                   )\r\n                })\r\n            }\r\n            // render the table\r\n    render(){\r\n        console.log(this.state.Tflag)\r\n        return(\r\n            <>\r\n            <div className=\"cuntiner-fluid \">\r\n                <div className=\"row\">\r\n                    <div id=\"sidebarMenu\" className=\"col-md-2 col-lg-2 d-md-block sidebar collapse\">\r\n                        <AdminCompNav User={this.props.User} />\r\n                    </div>\r\n                    <main role=\"main\" className=\"col-md-9 ml-sm-auto col-lg-10 px-md-4 bg-white\">\r\n                        <div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\r\n                            <h1 className=\"h2\">\r\n                                <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-bookshelf\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path fillRule=\"evenodd\" d=\"M2.5 0a.5.5 0 0 1 .5.5V2h10V.5a.5.5 0 0 1 1 0v15a.5.5 0 0 1-1 0V15H3v.5a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5zM3 14h10v-3H3v3zm0-4h10V7H3v3zm0-4h10V3H3v3z\"/>\r\n                                </svg>\r\n                                {\" Storage View\"}\r\n                            </h1>\r\n                            <button className=\"btn btn-info\"> Get UpToDate Data</button>  \r\n                        </div>\r\n                        {this.state.Tflag?\r\n                        <div className=\"row d-flex justify-content-center\">\r\n                            <div className=\"col-md-11\">\r\n                            <div className=\"table-responsive\">\r\n                                    <table className=\"table table-hover table-sm\">\r\n                                        <thead style={{backgroundColor:\"rgba(20, 16, 200, 0.20)\"}}>\r\n                                            <tr>\r\n                                                <th scope=\"col\">#</th>\r\n                                                <th scope=\"col\">Name</th>\r\n                                                <th scope=\"col\">location</th>\r\n                                                <th scope=\"col\">Total capacity</th>\r\n                                                <th scope=\"col\">Allocated ammount</th>\r\n                                                <th scope=\"col\">Allocated ammount in %</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                            <tbody>\r\n                                            {this.AggregateTable()}\r\n                                            </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>:            \r\n                        <div className=\"d-flex justify-content-center\">\r\n                            <div className=\"spinner-border\" role=\"status\">\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </div>\r\n                        </div>}\r\n                    </main>\r\n                </div>\r\n            </div>\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\nexport default StorageView\r\n"]},"metadata":{},"sourceType":"module"}