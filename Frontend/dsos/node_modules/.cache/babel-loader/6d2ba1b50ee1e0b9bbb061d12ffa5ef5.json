{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ben78\\\\Desktop\\\\DSOS\\\\Frontend\\\\dsos\\\\src\\\\Pages\\\\Download.component.js\";\nimport React, { Fragment, useState } from 'react';\nimport axios from 'axios';\nimport Progress from '../components/UserComponent/Progress';\n\nconst Download = () => {\n  const [file, setFile] = useState('');\n  const [filename, setFilename] = useState('Choose File');\n  const [uploadedFile, setUploadedFile] = useState({});\n  const [uploadPercentage, setUploadPercentage] = useState(0);\n\n  const onChange = e => {\n    setFile(e.target.files[0]);\n    setFilename(e.target.files[0].name);\n  };\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const res = await axios.post('http://localhost:3000/Request/upload', formData, {\n        headers: {\n          'content-Type': 'multipart/form-data'\n        },\n        onUploadProgress: ProgressEvent => {\n          setUploadPercentage(parseInt(Math.round(ProgressEvent.loaded * 100 / ProgressEvent.total)));\n        }\n      });\n      const {\n        fileName\n      } = res.data;\n      console.log(res.data[0]);\n      setUploadedFile({\n        fileName\n      });\n    } catch (err) {\n      //if(err.response.status===500)\n      console.log(\"There Was a problam withe the server\"); //else\n\n      console.log(\"errore\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-file mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    className: \"custom-file-input\",\n    id: \"customFile\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-file-label\",\n    htmlFor: \"customFile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, filename)), /*#__PURE__*/React.createElement(Progress, {\n    percentage: uploadPercentage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Upload \",\n    className: \"btn btn-primary btn block mt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  })), uploadedFile ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, uploadedFile.fileName))) : null);\n};\n\nexport default Download; // export default class Download extends Component{\n//   constructor(props){\n//     super(props);\n//     this.state={\n//       file:null\n//     }\n//     this.Onsubmit=this.Onsubmit.bind(this);\n//     this.onChange=this.onChange.bind(this);\n//   }\n//   onChange(e) {\n//     console.log(e.target)\n//     this.setState({file:e.target.file});\n//   }\n//   Onsubmit(){\n//       var formData = new FormData();\n//       console.log(this.state.file)\n//       formData.append(\"file\",this.state.file);\n//       axios.post('http://localhost:3000/upload', formData, {\n//           headers: {\n//             'Content-Type': 'multipart/form-data'\n//           }\n//       })\n//   }\n//   render(){\n//       return (\n//                 <div className=\"container\">\n//                   <div className=\"row\">\n//                     <div className=\"col-md-6 m-auto\">\n//                     <h1 className=\"text-center display-4 my-4\"> Upload File</h1>\n//                     {/* <form action=\"http://localhost:3000/upload\" method=\"POST\" encType=\"multipart/form-data\"> */}\n//                     <form>\n//                       <div className=\"custom-file mb-3\">\n//                         <input type=\"file\" name=\"file\" id=\"file\" onChange={this.onChange} className=\"custom-file-label\"/>\n//                           <label htmlFor=\"file\" className=\"custom-file-label\">Chose</label>\n//                       </div>\n//                       <input onClick={this.Onsubmit} value=\"Submit\" className=\" btn btn-primary btn-block\"/>\n//                     </form>\n//                     </div>\n//                   </div>\n//                 </div>\n//               )\n//            }\n//   }\n// constructor(props) {\n//   super(props);\n//   this.state ={\n//       file: null\n//   };\n//   this.onFormSubmit = this.onFormSubmit.bind(this);\n//   this.onChange = this.onChange.bind(this);\n// }\n// onFormSubmit(e){\n//   e.preventDefault();\n//   const formData = new FormData();\n//   formData.append('myfile',this.state.file);\n//   const config = {\n//       headers: {\n//           'content-type': 'multipart/form-data'\n//       }\n//   };\n//   axios.post(\"http://localhost:3000/Request/upload\",formData,config)\n//       .then((response) => {\n//           alert(\"The file is successfully uploaded\");\n//       }).catch((error) => {\n//   });\n// }\n// onChange(e) {\n//   this.setState({file:e.target.files});\n// }\n// class Download extends React.Component {\n//   render() {\n//       return (\n//           <form onSubmit={this.onFormSubmit}>\n//               <h1>File Upload</h1>\n//               <input type=\"file\" className=\"form\" name=\"myImage\" onChange= {this.onChange} />\n//               {console.log(this.state.file)}\n//               <button className=\"upload-button\" type=\"submit\">Upload to DB</button>\n//           </form>\n//       )\n//   }\n// }","map":{"version":3,"sources":["C:/Users/ben78/Desktop/DSOS/Frontend/dsos/src/Pages/Download.component.js"],"names":["React","Fragment","useState","axios","Progress","Download","file","setFile","filename","setFilename","uploadedFile","setUploadedFile","uploadPercentage","setUploadPercentage","onChange","e","target","files","name","onSubmit","preventDefault","formData","FormData","append","res","post","headers","onUploadProgress","ProgressEvent","parseInt","Math","round","loaded","total","fileName","data","console","log","err"],"mappings":"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","sourcesContent":["import React,{Fragment,useState}from 'react';\r\nimport axios from 'axios';\r\nimport Progress from '../components/UserComponent/Progress'\r\n\r\nconst Download=()=>{\r\n  const[file,setFile]=useState('');\r\n  const [filename,setFilename]=useState('Choose File');\r\n  const [uploadedFile,setUploadedFile]=useState({})\r\n  const [uploadPercentage,setUploadPercentage]=useState(0);\r\n  const onChange=e=>{\r\n    setFile(e.target.files[0]);\r\n    setFilename(e.target.files[0].name);\r\n  }\r\n  const onSubmit= async e=>{\r\n    e.preventDefault();\r\n    const formData=new FormData();\r\n    formData.append('file',file);\r\n    try{\r\n      const res=await axios.post('http://localhost:3000/Request/upload',formData,{\r\n        headers:{\r\n          'content-Type':'multipart/form-data'\r\n        },\r\n        onUploadProgress:ProgressEvent=>{\r\n          setUploadPercentage(\r\n            parseInt(\r\n              Math.round((ProgressEvent.loaded*100)/ProgressEvent.total)\r\n            ));\r\n        }\r\n      });\r\n      const {fileName}=res.data;\r\n      console.log(res.data[0])\r\n      setUploadedFile({fileName});\r\n    }catch(err){\r\n      //if(err.response.status===500)\r\n        console.log(\"There Was a problam withe the server\")\r\n      //else\r\n        console.log(\"errore\")\r\n    }\r\n  }\r\n  return(\r\n    <Fragment>\r\n      <form onSubmit={onSubmit}>\r\n        <div className='custom-file mb-4'>\r\n          <input type=\"file\" className='custom-file-input' id='customFile' onChange={onChange}/>\r\n          <label className='custom-file-label' htmlFor='customFile'>\r\n            {filename}\r\n          </label>\r\n        </div>\r\n        \r\n        <Progress percentage={uploadPercentage}/>\r\n\r\n        <input type='submit' value='Upload ' className=\"btn btn-primary btn block mt\"/>\r\n      </form>\r\n      {uploadedFile?<div className=\"row mt-5\">\r\n        <div className=\"col-md-6 m-auto\">\r\n          <h3 className=\"text-center\">{uploadedFile.fileName}</h3>\r\n        </div>\r\n      </div>:null}\r\n    </Fragment>\r\n  )\r\n}\r\nexport default  Download\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// export default class Download extends Component{\r\n//   constructor(props){\r\n//     super(props);\r\n//     this.state={\r\n//       file:null\r\n//     }\r\n//     this.Onsubmit=this.Onsubmit.bind(this);\r\n//     this.onChange=this.onChange.bind(this);\r\n//   }\r\n  \r\n//   onChange(e) {\r\n//     console.log(e.target)\r\n//     this.setState({file:e.target.file});\r\n//   }\r\n//   Onsubmit(){\r\n//       var formData = new FormData();\r\n//       console.log(this.state.file)\r\n//       formData.append(\"file\",this.state.file);\r\n//       axios.post('http://localhost:3000/upload', formData, {\r\n//           headers: {\r\n//             'Content-Type': 'multipart/form-data'\r\n//           }\r\n//       })\r\n//   }\r\n//   render(){\r\n//       return (\r\n//                 <div className=\"container\">\r\n//                   <div className=\"row\">\r\n//                     <div className=\"col-md-6 m-auto\">\r\n//                     <h1 className=\"text-center display-4 my-4\"> Upload File</h1>\r\n//                     {/* <form action=\"http://localhost:3000/upload\" method=\"POST\" encType=\"multipart/form-data\"> */}\r\n//                     <form>\r\n//                       <div className=\"custom-file mb-3\">\r\n//                         <input type=\"file\" name=\"file\" id=\"file\" onChange={this.onChange} className=\"custom-file-label\"/>\r\n//                           <label htmlFor=\"file\" className=\"custom-file-label\">Chose</label>\r\n//                       </div>\r\n//                       <input onClick={this.Onsubmit} value=\"Submit\" className=\" btn btn-primary btn-block\"/>\r\n//                     </form>\r\n//                     </div>\r\n//                   </div>\r\n//                 </div>\r\n//               )\r\n//            }\r\n//   }\r\n\r\n\r\n\r\n// constructor(props) {\r\n//   super(props);\r\n//   this.state ={\r\n//       file: null\r\n//   };\r\n//   this.onFormSubmit = this.onFormSubmit.bind(this);\r\n//   this.onChange = this.onChange.bind(this);\r\n// }\r\n// onFormSubmit(e){\r\n//   e.preventDefault();\r\n//   const formData = new FormData();\r\n//   formData.append('myfile',this.state.file);\r\n//   const config = {\r\n//       headers: {\r\n//           'content-type': 'multipart/form-data'\r\n//       }\r\n//   };\r\n//   axios.post(\"http://localhost:3000/Request/upload\",formData,config)\r\n//       .then((response) => {\r\n//           alert(\"The file is successfully uploaded\");\r\n//       }).catch((error) => {\r\n//   });\r\n// }\r\n\r\n// onChange(e) {\r\n//   this.setState({file:e.target.files});\r\n// }\r\n// class Download extends React.Component {\r\n\r\n//   render() {\r\n//       return (\r\n//           <form onSubmit={this.onFormSubmit}>\r\n//               <h1>File Upload</h1>\r\n//               <input type=\"file\" className=\"form\" name=\"myImage\" onChange= {this.onChange} />\r\n//               {console.log(this.state.file)}\r\n//               <button className=\"upload-button\" type=\"submit\">Upload to DB</button>\r\n//           </form>\r\n//       )\r\n//   }\r\n// }"]},"metadata":{},"sourceType":"module"}