{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ben78\\\\Desktop\\\\DSOS\\\\Frontend\\\\dsos\\\\src\\\\components\\\\StorageGraft.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nclass StorageGraft extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Aggre: '',\n      SVMSArray: []\n    };\n  }\n\n  componentDidMount() {\n    let Aggre;\n    let SVMSArray;\n    console.log(this.props);\n    axios.get(`http://localhost:3000/Aggregate/Aggre/${this.props.Aggre}`).then(async res => {\n      Aggre = res.data[0];\n      await axios.get(`http://localhost:3000/SvmRoute/SvmByAggreName/${this.props.Aggre}`).then(res => {\n        console.log(res.data);\n        SVMSArray = res.data;\n      });\n      this.setState({\n        Aggre: Aggre,\n        SVMSArray: SVMSArray\n      });\n    });\n  }\n\n  getRandomColor() {\n    var letters = '0123456789ABCDEF';\n    var color = '#';\n\n    for (var i = 0; i < 6; i++) {\n      color += letters[Math.floor(Math.random() * 16)];\n    }\n\n    return color;\n  }\n\n  getBar() {\n    return this.state.SVMSArray.map(SVM => {\n      let percentage = 0;\n      if (SVM.Amount !== 0) percentage = SVM.Amount / this.state.Aggre.TotalAmount * 100;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-bar progress-bar-striped\",\n        role: \"progressbar\",\n        style: {\n          width: `${percentage - 0.5}%`,\n          backgroundColor: `${this.getRandomColor()}`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }\n      }, percentage, \"%\");\n    });\n  }\n\n  render() {\n    console.log(this.state.Aggre);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.Aggre ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"progress\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, this.state.Aggre.Amount !== 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, this.state.Aggre.TotalAmount !== 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"progress-bar progress-bar-striped bg-success\",\n      role: \"progressbar\",\n      style: {\n        width: `${this.state.Aggre.Amount / this.state.Aggre.TotalAmount * -100 + 100}%`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }\n    }, this.state.Aggre.Amount / this.state.Aggre.TotalAmount * -100 + 100, \"%\") : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"progress-bar progress-bar-striped bg-danger\",\n      role: \"progressbar\",\n      style: {\n        width: `${1000}`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 33\n      }\n    }, Error, \"%\")) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"progress-bar progress-bar-striped bg-success\",\n      role: \"progressbar\",\n      style: {\n        width: `${100}`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 22\n      }\n    }, 100, \"%\"), this.getBar()) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner-grow spinner-grow-sm\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, \"Loading...\")));\n  }\n\n}\n\nexport default StorageGraft;","map":{"version":3,"sources":["C:/Users/ben78/Desktop/DSOS/Frontend/dsos/src/components/StorageGraft.js"],"names":["React","Component","axios","StorageGraft","constructor","props","state","Aggre","SVMSArray","componentDidMount","console","log","get","then","res","data","setState","getRandomColor","letters","color","i","Math","floor","random","getBar","map","SVM","percentage","Amount","TotalAmount","width","backgroundColor","render","Error"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,YAAN,SAA2BF,SAA3B,CAAoC;AAChCG,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW;AACPC,MAAAA,KAAK,EAAC,EADC;AAEPC,MAAAA,SAAS,EAAC;AAFH,KAAX;AAIH;;AACDC,EAAAA,iBAAiB,GAAE;AACf,QAAIF,KAAJ;AACA,QAAIC,SAAJ;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAjB;AACAH,IAAAA,KAAK,CAACU,GAAN,CAAW,yCAAwC,KAAKP,KAAL,CAAWE,KAAM,EAApE,EACCM,IADD,CACM,MAAMC,GAAN,IAAY;AACdP,MAAAA,KAAK,GAACO,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAN;AACA,YAAMb,KAAK,CAACU,GAAN,CAAW,iDAAgD,KAAKP,KAAL,CAAWE,KAAM,EAA5E,EACLM,IADK,CACCC,GAAD,IAAO;AACbJ,QAAAA,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,IAAhB;AACAP,QAAAA,SAAS,GAACM,GAAG,CAACC,IAAd;AAEC,OALK,CAAN;AAMA,WAAKC,QAAL,CAAc;AAACT,QAAAA,KAAK,EAACA,KAAP;AAAaC,QAAAA,SAAS,EAACA;AAAvB,OAAd;AACF,KAVF;AAYH;;AACDS,EAAAA,cAAc,GAAG;AACb,QAAIC,OAAO,GAAG,kBAAd;AACA,QAAIC,KAAK,GAAG,GAAZ;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1BD,MAAAA,KAAK,IAAID,OAAO,CAACG,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,EAA3B,CAAD,CAAhB;AACD;;AACD,WAAOJ,KAAP;AACD;;AACHK,EAAAA,MAAM,GAAE;AACJ,WACI,KAAKlB,KAAL,CAAWE,SAAX,CAAqBiB,GAArB,CAA0BC,GAAD,IAAO;AAC5B,UAAIC,UAAU,GAAC,CAAf;AACA,UAAGD,GAAG,CAACE,MAAJ,KAAa,CAAhB,EACID,UAAU,GAAED,GAAG,CAACE,MAAJ,GAAW,KAAKtB,KAAL,CAAWC,KAAX,CAAiBsB,WAA7B,GAA0C,GAArD;AACJ,0BACI;AAAK,QAAA,SAAS,EAAC,mCAAf;AACA,QAAA,IAAI,EAAC,aADL;AAEA,QAAA,KAAK,EAAE;AAACC,UAAAA,KAAK,EAAE,GAAEH,UAAU,GAAC,GAAI,GAAzB;AAA4BI,UAAAA,eAAe,EAAE,GAAE,KAAKd,cAAL,EAAsB;AAArE,SAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGKU,UAHL,MADJ;AAOH,KAXD,CADJ;AAcH;;AAEDK,EAAAA,MAAM,GAAE;AACJtB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,KAAL,CAAWC,KAAvB;AACA,wBACI,0CACC,KAAKD,KAAL,CAAWC,KAAX,gBACG;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKD,KAAL,CAAWC,KAAX,CAAiBqB,MAAjB,KAA0B,CAA1B,gBACD,0CACK,KAAKtB,KAAL,CAAWC,KAAX,CAAiBsB,WAAjB,KAA+B,CAA/B,gBACG;AAAK,MAAA,SAAS,EAAC,8CAAf;AACI,MAAA,IAAI,EAAC,aADT;AAEI,MAAA,KAAK,EAAE;AAACC,QAAAA,KAAK,EAAE,GAAI,KAAKxB,KAAL,CAAWC,KAAX,CAAiBqB,MAAjB,GAAwB,KAAKtB,KAAL,CAAWC,KAAX,CAAiBsB,WAA1C,GAAuD,CAAC,GAAzD,GAA8D,GAAI;AAA5E,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGW,KAAKvB,KAAL,CAAWC,KAAX,CAAiBqB,MAAjB,GAAwB,KAAKtB,KAAL,CAAWC,KAAX,CAAiBsB,WAA1C,GAAuD,CAAC,GAAzD,GAA8D,GAHvE,MADH,gBAMO;AAAK,MAAA,SAAS,EAAC,6CAAf;AACA,MAAA,IAAI,EAAC,aADL;AAEA,MAAA,KAAK,EAAE;AAACC,QAAAA,KAAK,EAAE,GAAE,IAAK;AAAf,OAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGCG,KAHD,MAPZ,CADC,gBAeA;AAAK,MAAA,SAAS,EAAC,8CAAf;AACQ,MAAA,IAAI,EAAC,aADb;AAEQ,MAAA,KAAK,EAAE;AAACH,QAAAA,KAAK,EAAE,GAAE,GAAI;AAAd,OAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGY,GAHZ,MAhBL,EAsBK,KAAKN,MAAL,EAtBL,CADH,gBA0BG;AAAK,MAAA,SAAS,EAAC,8BAAf;AAA8C,MAAA,IAAI,EAAC,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CA3BJ,CADJ;AAkCH;;AAtF+B;;AAyFpC,eAAerB,YAAf","sourcesContent":["import React, { Component} from'react'\r\nimport axios from 'axios'\r\n\r\nclass StorageGraft extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            Aggre:'',\r\n            SVMSArray:[],\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        let Aggre;\r\n        let SVMSArray;\r\n        console.log(this.props)\r\n        axios.get(`http://localhost:3000/Aggregate/Aggre/${this.props.Aggre}`)\r\n        .then(async(res)=>{\r\n            Aggre=res.data[0];\r\n            await axios.get(`http://localhost:3000/SvmRoute/SvmByAggreName/${this.props.Aggre}`)\r\n            .then((res)=>{\r\n            console.log(res.data)\r\n            SVMSArray=res.data\r\n\r\n            });\r\n            this.setState({Aggre:Aggre,SVMSArray:SVMSArray})\r\n         });\r\n    \r\n    }\r\n    getRandomColor() {\r\n        var letters = '0123456789ABCDEF';\r\n        var color = '#';\r\n        for (var i = 0; i < 6; i++) {\r\n          color += letters[Math.floor(Math.random() * 16)];\r\n        }\r\n        return color;\r\n      }\r\n    getBar(){\r\n        return(\r\n            this.state.SVMSArray.map((SVM)=>{\r\n                let percentage=0;\r\n                if(SVM.Amount!==0)\r\n                    percentage=(SVM.Amount/this.state.Aggre.TotalAmount)*100;\r\n                return(\r\n                    <div className=\"progress-bar progress-bar-striped\"\r\n                    role=\"progressbar\"\r\n                    style={{width:`${percentage-0.5}%`,backgroundColor:`${this.getRandomColor()}`}}>\r\n                        {percentage}%\r\n                </div>\r\n                )\r\n            })\r\n        )\r\n    }\r\n    \r\n    render(){\r\n        console.log(this.state.Aggre)\r\n        return(\r\n            <>\r\n            {this.state.Aggre?\r\n                <div className=\"progress\">\r\n                    {this.state.Aggre.Amount!==0?\r\n                    <>\r\n                        {this.state.Aggre.TotalAmount!==0?\r\n                            <div className=\"progress-bar progress-bar-striped bg-success\"\r\n                                role=\"progressbar\"\r\n                                style={{width:`${((this.state.Aggre.Amount/this.state.Aggre.TotalAmount)*-100)+100}%`}}>\r\n                                    {((this.state.Aggre.Amount/this.state.Aggre.TotalAmount)*-100)+100}%\r\n                            </div>\r\n                        :       <div className=\"progress-bar progress-bar-striped bg-danger\"\r\n                                role=\"progressbar\"\r\n                                style={{width:`${1000}`}}>\r\n                                {Error}%\r\n                                </div>\r\n                            }\r\n                    </>\r\n                    :<div className=\"progress-bar progress-bar-striped bg-success\"\r\n                             role=\"progressbar\"\r\n                             style={{width:`${100}`}}>\r\n                                {100}%\r\n                        </div>\r\n                    }\r\n                    {this.getBar()}\r\n                </div>\r\n                :\r\n                <div className=\"spinner-grow spinner-grow-sm\" role=\"status\">\r\n                    <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n                }\r\n            </>\r\n            );\r\n    }\r\n\r\n}\r\nexport default StorageGraft"]},"metadata":{},"sourceType":"module"}