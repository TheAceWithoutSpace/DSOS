{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ben78\\\\Desktop\\\\DSOS\\\\Frontend\\\\dsos\\\\src\\\\Pages\\\\ArchitectPage.component.js\";\nimport React, { Component } from 'react';\nimport RequsetCard from '../components/RequestCard.component';\nimport axios from 'axios';\nimport AdminastorChart from '../components/ArchitectChart.component';\nexport default class ArcitectPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Requests: [],\n      PendingReq: [],\n      NumOfPages: 0,\n      next: 4,\n      prev: 0\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`Request/`).then(res => {\n      let PendingReq = [];\n      let num = 0;\n      res.data.res.forEach(Req => {\n        if (Req.status === \"pending\") {\n          num++;\n          PendingReq.push(Req);\n        }\n      });\n\n      if (res.data.err === null) {\n        this.setState({\n          Requests: res.data.res,\n          NumOfPages: parseInt(num),\n          PendingReq: PendingReq\n        });\n      } else {\n        console.log(res.data.err);\n      }\n    });\n  }\n\n  SetChartData() {\n    let Responses = [0, 0, 0];\n    this.state.Requests.forEach(Req => {\n      if (Req.status === \"pending\") Responses[0]++;\n      if (Req.status === 'Accepted') Responses[1]++;\n      if (Req.status === \"Decline\") Responses[2]++;\n    });\n    return Responses;\n  }\n\n  PageNav() {}\n\n  RequestsList() {\n    return this.state.PendingReq.map((currentRequests, index) => {\n      console.log(index);\n      console.log(this.state.prev + \"||\" + this.state.next);\n      console.log(index >= this.state.prev && index < this.state.next);\n\n      if (index >= this.state.prev && index < this.state.next) {\n        console.log(currentRequests);\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-2 mt-2\",\n          key: currentRequests._id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(RequsetCard, {\n          Username: currentRequests.username,\n          email: currentRequests.email,\n          File: currentRequests.File,\n          type: currentRequests.type,\n          Name: currentRequests.Name,\n          id: currentRequests._id,\n          Amount: currentRequests.Amount,\n          key: currentRequests._id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }\n        }));\n      }\n    });\n  }\n\n  render() {\n    console.log(this.state.index);\n    const Ur = JSON.parse(localStorage.getItem('user'));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, Ur.Ar ? null : window.location.href = '/UKnoob', /*#__PURE__*/React.createElement(AdminastorChart, {\n      Requsets: this.state.Requests,\n      ChartData: this.SetChartData(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row container-fluid d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-outline-info btn-lg py-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, \"next\")), this.RequestsList(), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-outline-info btn-lg py-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 19\n      }\n    }, \"prev\"))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/ben78/Desktop/DSOS/Frontend/dsos/src/Pages/ArchitectPage.component.js"],"names":["React","Component","RequsetCard","axios","AdminastorChart","ArcitectPage","constructor","props","state","Requests","PendingReq","NumOfPages","next","prev","componentDidMount","get","then","res","num","data","forEach","Req","status","push","err","setState","parseInt","console","log","SetChartData","Responses","PageNav","RequestsList","map","currentRequests","index","_id","username","email","File","type","Name","Amount","render","Ur","JSON","parse","localStorage","getItem","Ar","window","location","href"],"mappings":"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","sourcesContent":["import React,{Component}from 'react';\r\nimport RequsetCard from '../components/RequestCard.component' \r\nimport axios from 'axios';\r\nimport AdminastorChart from'../components/ArchitectChart.component'\r\n\r\nexport default class ArcitectPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        this.state={\r\n            Requests:[],\r\n            PendingReq:[],\r\n            NumOfPages:0,\r\n            next:4,\r\n            prev:0\r\n        };\r\n    }\r\n    \r\n    componentDidMount(){\r\n        axios.get(`Request/`)\r\n        .then(res=>{\r\n            let PendingReq=[];\r\n            let num=0;\r\n            res.data.res.forEach(Req=>{\r\n                if(Req.status===\"pending\")\r\n                {\r\n                    num++;\r\n                    PendingReq.push(Req);\r\n                }\r\n            })\r\n                if(res.data.err===null){\r\n                    this.setState({Requests:res.data.res,NumOfPages:parseInt(num),PendingReq:PendingReq})\r\n                }else{\r\n                    console.log(res.data.err)\r\n                }\r\n            })\r\n    }\r\n\r\n    SetChartData(){\r\n        let Responses=[0,0,0]\r\n        this.state.Requests.forEach(Req => {\r\n            if(Req.status===\"pending\")\r\n                Responses[0]++;\r\n            if(Req.status==='Accepted')\r\n                Responses[1]++;\r\n            if(Req.status===\"Decline\")\r\n                Responses[2]++;\r\n        });\r\n        return Responses\r\n    }\r\n    PageNav(){\r\n\r\n    }\r\n    RequestsList(){\r\n        return this.state.PendingReq.map((currentRequests,index)=>{\r\n\r\n            console.log(index)\r\n            console.log(this.state.prev+\"||\"+this.state.next)\r\n            console.log(((index>=this.state.prev)&&(index<this.state.next)))\r\n            if((index>=this.state.prev)&&(index<this.state.next)){\r\n                console.log(currentRequests)\r\n                return(\r\n                    <div className=\"col-md-2 mt-2\"key={currentRequests._id} >\r\n                        <RequsetCard Username={currentRequests.username}  email={currentRequests.email}\r\n                                    File={currentRequests.File} type={currentRequests.type} Name={currentRequests.Name}\r\n                                    id={currentRequests._id} Amount={currentRequests.Amount}\r\n                                    key={currentRequests._id}/>\r\n                    </div>)\r\n            }\r\n        })\r\n    }\r\n            \r\n    render(){\r\n        console.log(this.state.index)\r\n        const Ur=JSON.parse(localStorage.getItem('user'));\r\n        return(\r\n        <div>\r\n            {Ur.Ar?null:window.location.href = '/UKnoob'}\r\n            <AdminastorChart Requsets={this.state.Requests} ChartData={this.SetChartData()}/>\r\n            <div className=\"row container-fluid d-flex justify-content-center\">\r\n                <div>\r\n                    <button type=\"button\" className=\"btn btn-outline-info btn-lg py-auto\">next</button>\r\n                </div>\r\n                  {this.RequestsList()}\r\n                <div>\r\n                  <button type=\"button\" className=\"btn btn-outline-info btn-lg py-auto\">prev</button>\r\n                </div>\r\n            </div>\r\n           \r\n        </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}