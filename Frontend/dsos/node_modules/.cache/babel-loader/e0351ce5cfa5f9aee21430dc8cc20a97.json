{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ben78\\\\Desktop\\\\DSOS\\\\Frontend\\\\dsos\\\\src\\\\Pages\\\\ArchitectPage.component.js\";\nimport React, { Component } from 'react';\nimport RequsetCard from '../components/RequestCard.component';\nimport axios from 'axios';\nimport AdminastorChart from '../components/ArchitectChart.component';\nexport default class ArcitectPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Requests: [],\n      NumOfPages: 0,\n      index: 1\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`Request/`).then(res => {\n      let PendingReq = 0;\n      res.data.res.forEach(Req => {\n        if (Req.status === \"pending\") {\n          PendingReq++;\n        }\n      });\n\n      if (res.data.err === null) {\n        let num = parseInt(PendingReq / 4);\n\n        if (PendingReq / 4 > parseInt(PendingReq / 4)) {\n          num++;\n        }\n\n        this.setState({\n          Requests: res.data.res,\n          NumOfPages: num\n        });\n      } else {\n        console.log(res.data.err);\n      }\n    });\n  }\n\n  SetChartData() {\n    let Responses = [0, 0, 0];\n    this.state.Requests.forEach(Req => {\n      if (Req.status === \"pending\") Responses[0]++;\n      if (Req.status === 'Accepted') Responses[1]++;\n      if (Req.status === \"Decline\") Responses[2]++;\n    });\n    return Responses;\n  }\n\n  PageNav(num, str) {\n    if (this.state.index === num) {\n      str += `<li class=\"page-item active\"><a class=\"page-link\" href=\"#\">{num}</a></li>$`;\n      this.PageNav(num - 1, str);\n    } else {\n      if (num === 0) {\n        return str;\n      } else {\n        str += `<li class=\"page-item\"><a class=\"page-link\" href=\"#\">{num}</a></li>)$`;\n        this.PageNav(num - 1, str);\n      }\n    }\n  }\n\n  RequestsList() {\n    return this.state.Requests.map(currentRequests => {\n      const status = currentRequests.status;\n      return status === \"pending\" ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-3 mt-3\",\n        key: currentRequests._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(RequsetCard, {\n        Username: currentRequests.username,\n        email: currentRequests.email,\n        File: currentRequests.File,\n        type: currentRequests.type,\n        Name: currentRequests.Name,\n        id: currentRequests._id,\n        Amount: currentRequests.Amount,\n        key: currentRequests._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }\n      })) : null;\n    });\n  }\n\n  render() {\n    console.log(this.state.index);\n    const Ur = JSON.parse(localStorage.getItem('user'));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, Ur.Ar ? null : window.location.href = '/UKnoob', /*#__PURE__*/React.createElement(AdminastorChart, {\n      Requsets: this.state.Requests,\n      ChartData: this.SetChartData(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row container-fluid d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, this.RequestsList()), /*#__PURE__*/React.createElement(\"nav\", {\n      \"aria-label\": \"Page navigation \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      class: \"pagination\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      class: \"page-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, this.state.index === 1 ? /*#__PURE__*/React.createElement(\"a\", {\n      class: \"page-link disabled\",\n      href: \"#\",\n      \"aria-label\": \"Previous\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, \"\\xAB\"), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, \"Previous\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"page-link\",\n      href: \"#\",\n      \"aria-label\": \"Previous\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    }, \"\\xAB\"), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }\n    }, \"Previous\")))), this.PageNav(this.state.NumOfPages), /*#__PURE__*/React.createElement(\"li\", {\n      class: \"page-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, this.state.index === this.state.NumOfPages ? /*#__PURE__*/React.createElement(\"a\", {\n      class: \"page-link disabled\",\n      href: \"#\",\n      \"aria-label\": \"Next\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }\n    }, \"\\xBB\"), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, \"Next\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"page-link\",\n      href: \"#\",\n      \"aria-label\": \"Next\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    }, \"\\xBB\"), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 29\n      }\n    }, \"Next\")))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/ben78/Desktop/DSOS/Frontend/dsos/src/Pages/ArchitectPage.component.js"],"names":["React","Component","RequsetCard","axios","AdminastorChart","ArcitectPage","constructor","props","state","Requests","NumOfPages","index","componentDidMount","get","then","res","PendingReq","data","forEach","Req","status","err","num","parseInt","setState","console","log","SetChartData","Responses","PageNav","str","RequestsList","map","currentRequests","_id","username","email","File","type","Name","Amount","render","Ur","JSON","parse","localStorage","getItem","Ar","window","location","href"],"mappings":"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","sourcesContent":["import React,{Component}from 'react';\r\nimport RequsetCard from '../components/RequestCard.component' \r\nimport axios from 'axios';\r\nimport AdminastorChart from'../components/ArchitectChart.component'\r\n\r\nexport default class ArcitectPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        this.state={Requests:[],NumOfPages:0,index:1};\r\n    }\r\n    \r\n    componentDidMount(){\r\n        axios.get(`Request/`)\r\n        .then(res=>{\r\n            let PendingReq=0;\r\n            res.data.res.forEach(Req=>{\r\n                if(Req.status===\"pending\")\r\n                {\r\n                    PendingReq++;\r\n                }\r\n            })\r\n                if(res.data.err===null){\r\n                    let num=parseInt(PendingReq/4);\r\n                    if((PendingReq/4)>parseInt(PendingReq/4)){\r\n                        num++;\r\n                    }\r\n                    this.setState({Requests:res.data.res,NumOfPages:num})\r\n                }else{\r\n                    console.log(res.data.err)\r\n                }\r\n            })\r\n    }\r\n\r\n    SetChartData(){\r\n        let Responses=[0,0,0]\r\n        this.state.Requests.forEach(Req => {\r\n            if(Req.status===\"pending\")\r\n                Responses[0]++;\r\n            if(Req.status==='Accepted')\r\n                Responses[1]++;\r\n            if(Req.status===\"Decline\")\r\n                Responses[2]++;\r\n        });\r\n        return Responses\r\n    }\r\n    PageNav(num,str){\r\n            if(this.state.index===num)\r\n            {\r\n                str+=`<li class=\"page-item active\"><a class=\"page-link\" href=\"#\">{num}</a></li>$`\r\n                this.PageNav(num-1,str)\r\n            }else{\r\n                if(num===0)\r\n                {\r\n                    return(str)\r\n                }else{\r\n                    str+=`<li class=\"page-item\"><a class=\"page-link\" href=\"#\">{num}</a></li>)$`\r\n                    this.PageNav(num-1,str)\r\n                }\r\n            }\r\n\r\n    }\r\n    RequestsList(){\r\n        return this.state.Requests.map(currentRequests=>{\r\n            const status=currentRequests.status;\r\n\r\n            return((status===\"pending\")?\r\n                        <div className=\"col-md-3 mt-3\"key={currentRequests._id} >\r\n                            <RequsetCard Username={currentRequests.username}  email={currentRequests.email}\r\n                            File={currentRequests.File} type={currentRequests.type} Name={currentRequests.Name}\r\n                            id={currentRequests._id} Amount={currentRequests.Amount}\r\n                            key={currentRequests._id}/>\r\n                        </div>:null)\r\n                    })\r\n                }\r\n    render(){\r\n        console.log(this.state.index)\r\n        const Ur=JSON.parse(localStorage.getItem('user'));\r\n        return(\r\n        <div>\r\n            {Ur.Ar?null:window.location.href = '/UKnoob'}\r\n            <AdminastorChart Requsets={this.state.Requests} ChartData={this.SetChartData()}/>\r\n            <div className=\"row container-fluid d-flex justify-content-center\">\r\n                  {this.RequestsList()}\r\n            </div>\r\n            <nav aria-label=\"Page navigation \">\r\n                <ul class=\"pagination\">\r\n                    <li class=\"page-item\">\r\n                    {this.state.index===1?\r\n                    <a class=\"page-link disabled\" href=\"#\" aria-label=\"Previous\">\r\n                        <span aria-hidden=\"true\">&laquo;</span>\r\n                        <span class=\"sr-only\">Previous</span>\r\n                    </a>\r\n                    :\r\n                    <>\r\n                    {/* {this.setState({index:this.state.index-1})} */}\r\n                        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\">\r\n                            <span aria-hidden=\"true\">&laquo;</span>\r\n                            <span class=\"sr-only\">Previous</span>\r\n                        </a>\r\n                    </>\r\n                    }\r\n                    </li>\r\n                    {this.PageNav(this.state.NumOfPages)}\r\n                    <li class=\"page-item\">\r\n                    {this.state.index===this.state.NumOfPages?\r\n                    <a class=\"page-link disabled\" href=\"#\" aria-label=\"Next\">\r\n                        <span aria-hidden=\"true\">&raquo;</span>\r\n                        <span class=\"sr-only\">Next</span>\r\n                    </a>\r\n                    :\r\n                    <>\r\n                    {/* {this.setState({index:this.state.index+1})} */}\r\n                        <a class=\"page-link\" href=\"#\" aria-label=\"Next\">\r\n                            <span aria-hidden=\"true\">&raquo;</span>\r\n                            <span class=\"sr-only\">Next</span>\r\n                        </a>\r\n                    </>\r\n                    }\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n            \r\n        </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}