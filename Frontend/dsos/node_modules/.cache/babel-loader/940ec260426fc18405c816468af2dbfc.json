{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ben78\\\\Desktop\\\\DSOS\\\\Frontend\\\\dsos\\\\src\\\\components\\\\StorageView.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport AdminCompNav from \"./AdminCompNav\";\nimport SystemGrath from '../components/SystemGrafth.component';\nimport StorageChart from './StorageChart';\n\nclass StorageView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onClickHandler = e => {\n      const hiddenElement = e.currentTarget.nextSibling;\n      hiddenElement.className.indexOf(\"collapse show\") > -1 ? hiddenElement.classList.remove(\"show\") : hiddenElement.classList.add(\"show\");\n    };\n\n    this.state = {\n      Aggregate: [],\n      message: ''\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`http://localhost:3000/Aggregate/`).then(res => {\n      console.log(res);\n      this.setState({\n        Aggregate: res.data\n      });\n    });\n  }\n\n  getMessage(data) {\n    this.setState({\n      message: data.message,\n      presentage: data.presentage\n    });\n  }\n\n  onclick(index) {\n    let el = document.getElementById(index);\n\n    if (el.className === 'collapse') {\n      el.className = 'collapse show';\n    } else {\n      el.className = 'collapse';\n      el.value = 0;\n    }\n  }\n\n  isclicked(index) {\n    let el = document.getElementById(index);\n    console.log(el.className);\n  }\n\n  ifopen(flag, currentAggre, index) {\n    this.isclicked(index);\n\n    if (flag === true) {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        colSpan: \"10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(SystemGrath, {\n        ChartTitle: currentAggre.name,\n        TotalAmmount: currentAggre.TotalAmount,\n        Aggre: currentAggre.name,\n        Amount: currentAggre.Amount,\n        getMessage: message => this.getMessage(message),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }\n      }, \"Loading...\");\n    }\n  }\n\n  AggregateTable() {\n    return this.state.Aggregate.map((currentAggre, index) => {\n      console.log(currentAggre);\n      return /*#__PURE__*/React.createElement(\"tbody\", {\n        key: currentAggre._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        key: 'button',\n        onClick: () => {\n          this.onclick(index);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }\n      }, index), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }\n      }, currentAggre.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }\n      }, currentAggre.location), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }\n      }, currentAggre.TotalAmount + 'GB'), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }\n      }, currentAggre.Amount + 'GB'), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }\n      }, parseInt(currentAggre.Amount / currentAggre.TotalAmount * 100) + \"%\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }\n      }, currentAggre.date.substr(0, 10))), /*#__PURE__*/React.createElement(\"tr\", {\n        id: index,\n        className: \"collapse\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }\n      }, this.ifopen(false, currentAggre, index)));\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cuntiner-fluid \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"sidebarMenu\",\n      className: \"col-md-2 col-lg-2 d-md-block sidebar collapse\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(AdminCompNav, {\n      User: this.props.User,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"main\", {\n      role: \"main\",\n      className: \"col-md-9 ml-sm-auto col-lg-10 px-md-4 bg-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"h2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 16 16\",\n      className: \"bi bi-people-fill\",\n      fill: \"currentColor\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      fillRule: \"evenodd\",\n      d: \"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 37\n      }\n    })), \" Users\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-11\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-hover table-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      style: {\n        backgroundColor: \"rgba(20, 16, 200, 0.20)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 49\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 49\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 49\n      }\n    }, \"location\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 49\n      }\n    }, \"Total capacity\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 49\n      }\n    }, \"Allocated ammount\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 49\n      }\n    }, \"Allocated ammount in %\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 49\n      }\n    }, \" Creation date\"))), this.AggregateTable()))))))));\n  }\n\n}\n\nexport default StorageView;","map":{"version":3,"sources":["C:/Users/ben78/Desktop/DSOS/Frontend/dsos/src/components/StorageView.js"],"names":["React","Component","axios","AdminCompNav","SystemGrath","StorageChart","StorageView","constructor","props","onClickHandler","e","hiddenElement","currentTarget","nextSibling","className","indexOf","classList","remove","add","state","Aggregate","message","componentDidMount","get","then","res","console","log","setState","data","getMessage","presentage","onclick","index","el","document","getElementById","value","isclicked","ifopen","flag","currentAggre","name","TotalAmount","Amount","AggregateTable","map","_id","location","parseInt","date","substr","render","User","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from'react'\r\nimport axios from 'axios'\r\nimport AdminCompNav from \"./AdminCompNav\"\r\nimport SystemGrath from '../components/SystemGrafth.component'\r\nimport StorageChart from './StorageChart';\r\n\r\nclass StorageView extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            Aggregate:[],\r\n            message:'',\r\n\r\n        }\r\n    }\r\n    componentDidMount()\r\n    {\r\n        axios.get(`http://localhost:3000/Aggregate/`)\r\n        .then((res)=>{\r\n        console.log(res);\r\n        this.setState({Aggregate:res.data})\r\n        });\r\n    }\r\n    onClickHandler = (e) => {\r\n        const hiddenElement = e.currentTarget.nextSibling;\r\n        hiddenElement.className.indexOf(\"collapse show\") > -1 ? hiddenElement.classList.remove(\"show\") : hiddenElement.classList.add(\"show\");              \r\n    };\r\n    getMessage(data)\r\n    {\r\n        this.setState({message:data.message,presentage:data.presentage})\r\n    }\r\n    onclick(index){\r\n        let el = document.getElementById(index);\r\n        if( el.className==='collapse'){\r\n            el.className='collapse show';\r\n        }else{\r\n            el.className='collapse'\r\n            el.value=0;\r\n        }\r\n    }\r\n    isclicked(index){\r\n        let el = document.getElementById(index);\r\n        console.log(el.className)\r\n    }\r\n    ifopen(flag,currentAggre,index){\r\n        this.isclicked(index)\r\n        if(flag===true){\r\n            return(\r\n            <td colSpan=\"10\">    \r\n                <SystemGrath ChartTitle={currentAggre.name} TotalAmmount={currentAggre.TotalAmount} Aggre={currentAggre.name} Amount={currentAggre.Amount} getMessage={(message)=>this.getMessage(message)}/>\r\n            </td>\r\n            )\r\n        }else{\r\n            return(\r\n            <td>\r\n                Loading...\r\n            </td>\r\n            )\r\n        }\r\n    }\r\n    AggregateTable(){\r\n        return this.state.Aggregate.map((currentAggre,index)=>{\r\n            console.log(currentAggre)\r\n            \r\n            return(\r\n                <tbody key={currentAggre._id}>\r\n                    <tr key={'button'} onClick={()=>{this.onclick(index)}} >\r\n                        <td>{index}</td>\r\n                        <td>{currentAggre.name}</td>\r\n                        <td>{currentAggre.location}</td>\r\n                        <td>{currentAggre.TotalAmount+'GB'}</td>\r\n                        <td>{currentAggre.Amount+'GB'}</td>\r\n                        <td>{parseInt((currentAggre.Amount/currentAggre.TotalAmount)*100)+\"%\"}</td>\r\n                        <td>{currentAggre.date.substr(0,10)}</td>\r\n                    </tr>\r\n                    <tr id={index}  className=\"collapse\">\r\n                        {this.ifopen(false,currentAggre,index)}\r\n                    </tr>\r\n                </tbody>\r\n                   )\r\n                })\r\n            }\r\n    render(){\r\n        return(\r\n            <>\r\n            <div className=\"cuntiner-fluid \">\r\n                <div className=\"row\">\r\n                    <div id=\"sidebarMenu\" className=\"col-md-2 col-lg-2 d-md-block sidebar collapse\">\r\n                        <AdminCompNav User={this.props.User} />\r\n                    </div>\r\n                    <main role=\"main\" className=\"col-md-9 ml-sm-auto col-lg-10 px-md-4 bg-white\">\r\n                        <div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\r\n                            <h1 className=\"h2\">\r\n                                <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-people-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path fillRule=\"evenodd\" d=\"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z\"/>\r\n                                </svg>\r\n                                {\" Users\"}\r\n                            </h1>  \r\n                        </div>\r\n                        <div className=\"row d-flex justify-content-center\">\r\n                            <div className=\"col-md-11\">\r\n                            <div className=\"table-responsive\">\r\n                                    <table className=\"table table-hover table-sm\">\r\n                                        <thead style={{backgroundColor:\"rgba(20, 16, 200, 0.20)\"}}>\r\n                                            <tr>\r\n                                                <th scope=\"col\">#</th>\r\n                                                <th scope=\"col\">Name</th>\r\n                                                <th scope=\"col\">location</th>\r\n                                                <th scope=\"col\">Total capacity</th>\r\n                                                <th scope=\"col\">Allocated ammount</th>\r\n                                                <th scope=\"col\">Allocated ammount in %</th>\r\n                                                <th scope=\"col\"> Creation date</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                            {this.AggregateTable()}\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </main>\r\n                </div>\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\nexport default StorageView\r\n"]},"metadata":{},"sourceType":"module"}