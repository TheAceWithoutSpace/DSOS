{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ben78\\\\Desktop\\\\DSOS\\\\Frontend\\\\dsos\\\\src\\\\components\\\\StorageView.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport AdminCompNav from \"./AdminCompNav\";\nimport SystemGrath from '../components/SystemGrafth.component';\nimport StorageChart from './StorageChart';\nimport StorageGraft from '../components/StorageGraft';\n\nclass StorageView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Aggregate: [],\n      message: '',\n      flags: [],\n      Tflag: false\n    };\n  }\n\n  componentDidMount() {\n    let flags = [];\n    axios.get(`http://localhost:3000/Aggregate/`).then(res => {\n      console.log(res);\n      res.data.forEach(Aggre => {\n        flags.push(false);\n      });\n      this.setState({\n        Aggregate: res.data,\n        flags: flags,\n        Tflag: true\n      });\n    });\n  }\n\n  getMessage(data) {\n    this.setState({\n      message: data.message,\n      presentage: data.presentage\n    });\n  }\n\n  onclick(index) {\n    let tempflag = this.state.flags;\n    let el = document.getElementById(index);\n\n    if (el.className === 'collapse') {\n      el.className = 'collapse show';\n      tempflag[index] = true;\n    } else {\n      el.className = 'collapse';\n      tempflag[index] = false;\n    }\n\n    console.log(this.state.flags);\n    this.setState({\n      flags: tempflag\n    });\n  }\n\n  AggregateTable() {\n    return this.state.Aggregate.map((currentAggre, index) => {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"tr\", {\n        key: 'button',\n        onClick: () => {\n          this.onclick(index);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }\n      }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }\n      }, currentAggre.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }\n      }, currentAggre.location), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }\n      }, currentAggre.TotalAmount + 'GB'), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }\n      }, currentAggre.Amount + 'GB'), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }\n      }, parseInt(currentAggre.Amount / currentAggre.TotalAmount * 100) + \"%\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }\n      }, currentAggre.date.substr(0, 10))), /*#__PURE__*/React.createElement(\"tr\", {\n        id: index,\n        className: \"collapse\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, this.state.flags[index] ? /*#__PURE__*/React.createElement(\"td\", {\n        className: \"d-flex justify-content-center\",\n        colSpan: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(StorageGraft, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 29\n        }\n      })) : null));\n    });\n  }\n\n  render() {\n    console.log(this.state.Tflag);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cuntiner-fluid \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"sidebarMenu\",\n      className: \"col-md-2 col-lg-2 d-md-block sidebar collapse\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(AdminCompNav, {\n      User: this.props.User,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"main\", {\n      role: \"main\",\n      className: \"col-md-9 ml-sm-auto col-lg-10 px-md-4 bg-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"h2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 16 16\",\n      className: \"bi bi-bookshelf\",\n      fill: \"currentColor\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      fillRule: \"evenodd\",\n      d: \"M2.5 0a.5.5 0 0 1 .5.5V2h10V.5a.5.5 0 0 1 1 0v15a.5.5 0 0 1-1 0V15H3v.5a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5zM3 14h10v-3H3v3zm0-4h10V7H3v3zm0-4h10V3H3v3z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }\n    })), \" Storage View\")), this.state.Tflag ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-11\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-hover table-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      style: {\n        backgroundColor: \"rgba(20, 16, 200, 0.20)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 49\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 49\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 49\n      }\n    }, \"location\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 49\n      }\n    }, \"Total capacity\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 49\n      }\n    }, \"Allocated ammount\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 49\n      }\n    }, \"Allocated ammount in %\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 49\n      }\n    }, \" Creation date\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 45\n      }\n    }, this.AggregateTable()))))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner-border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 33\n      }\n    }, \"Loading...\")))))));\n  }\n\n}\n\nexport default StorageView;","map":{"version":3,"sources":["C:/Users/ben78/Desktop/DSOS/Frontend/dsos/src/components/StorageView.js"],"names":["React","Component","axios","AdminCompNav","SystemGrath","StorageChart","StorageGraft","StorageView","constructor","props","state","Aggregate","message","flags","Tflag","componentDidMount","get","then","res","console","log","data","forEach","Aggre","push","setState","getMessage","presentage","onclick","index","tempflag","el","document","getElementById","className","AggregateTable","map","currentAggre","name","location","TotalAmount","Amount","parseInt","date","substr","render","User","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from'react'\r\nimport axios from 'axios'\r\nimport AdminCompNav from \"./AdminCompNav\"\r\nimport SystemGrath from '../components/SystemGrafth.component'\r\nimport StorageChart from './StorageChart';\r\nimport StorageGraft from '../components/StorageGraft'\r\nclass StorageView extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            Aggregate:[],\r\n            message:'',\r\n            flags:[],\r\n            Tflag:false\r\n        }\r\n    }\r\n    componentDidMount()\r\n    {\r\n        let flags=[];\r\n        axios.get(`http://localhost:3000/Aggregate/`)\r\n        .then((res)=>{\r\n        console.log(res);\r\n        res.data.forEach(Aggre => {\r\n            flags.push(false)\r\n        });\r\n        this.setState({Aggregate:res.data,flags:flags,Tflag:true})\r\n        });\r\n    }\r\n    getMessage(data)\r\n    {\r\n        this.setState({message:data.message,presentage:data.presentage})\r\n    }\r\n    onclick(index){\r\n        let tempflag=this.state.flags;\r\n        let el = document.getElementById(index);\r\n        if( el.className==='collapse'){\r\n            el.className='collapse show';\r\n            tempflag[index]=true;\r\n        }else{\r\n            el.className='collapse'\r\n            tempflag[index]=false;\r\n        }\r\n        console.log(this.state.flags)\r\n        this.setState({flags:tempflag})\r\n    }\r\n    AggregateTable(){\r\n        return this.state.Aggregate.map((currentAggre,index)=>{\r\n            return(\r\n                <>\r\n                    <tr key={'button'} onClick={()=>{this.onclick(index)}} >\r\n                        <td>{index+1}</td>\r\n                        <td>{currentAggre.name}</td>\r\n                        <td>{currentAggre.location}</td>\r\n                        <td>{currentAggre.TotalAmount+'GB'}</td>\r\n                        <td>{currentAggre.Amount+'GB'}</td>\r\n                        <td>{parseInt((currentAggre.Amount/currentAggre.TotalAmount)*100)+\"%\"}</td>\r\n                        <td>{currentAggre.date.substr(0,10)}</td>\r\n                    </tr>\r\n                    <tr id={index} className=\"collapse\">\r\n                        {this.state.flags[index]?\r\n                        \r\n                            <td className=\"d-flex justify-content-center\" colSpan=\"12\">    \r\n                            <StorageGraft/>\r\n                                  {/* <SystemGrath Aggre={currentAggre.name} Amount={currentAggre.Amount} getMessage={(message)=>this.getMessage(message)}/> */}\r\n                            </td>\r\n                        \r\n                        :null}\r\n                    </tr>\r\n                </>\r\n                   )\r\n                })\r\n            }\r\n    render(){\r\n        console.log(this.state.Tflag)\r\n        return(\r\n            <>\r\n            <div className=\"cuntiner-fluid \">\r\n                <div className=\"row\">\r\n                    <div id=\"sidebarMenu\" className=\"col-md-2 col-lg-2 d-md-block sidebar collapse\">\r\n                        <AdminCompNav User={this.props.User} />\r\n                    </div>\r\n                    <main role=\"main\" className=\"col-md-9 ml-sm-auto col-lg-10 px-md-4 bg-white\">\r\n                        <div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\r\n                            <h1 className=\"h2\">\r\n                                <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-bookshelf\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path fillRule=\"evenodd\" d=\"M2.5 0a.5.5 0 0 1 .5.5V2h10V.5a.5.5 0 0 1 1 0v15a.5.5 0 0 1-1 0V15H3v.5a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5zM3 14h10v-3H3v3zm0-4h10V7H3v3zm0-4h10V3H3v3z\"/>\r\n                                </svg>\r\n                                {\" Storage View\"}\r\n                            </h1>  \r\n                        </div>\r\n                        {this.state.Tflag?\r\n                        <div className=\"row d-flex justify-content-center\">\r\n                            <div className=\"col-md-11\">\r\n                            <div className=\"table-responsive\">\r\n                                    <table className=\"table table-hover table-sm\">\r\n                                        <thead style={{backgroundColor:\"rgba(20, 16, 200, 0.20)\"}}>\r\n                                            <tr>\r\n                                                <th scope=\"col\">#</th>\r\n                                                <th scope=\"col\">Name</th>\r\n                                                <th scope=\"col\">location</th>\r\n                                                <th scope=\"col\">Total capacity</th>\r\n                                                <th scope=\"col\">Allocated ammount</th>\r\n                                                <th scope=\"col\">Allocated ammount in %</th>\r\n                                                <th scope=\"col\"> Creation date</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                            <tbody>\r\n                                            {this.AggregateTable()}\r\n                                            </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>:            \r\n                        <div className=\"d-flex justify-content-center\">\r\n                            <div className=\"spinner-border\" role=\"status\">\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </div>\r\n                        </div>}\r\n                    </main>\r\n                </div>\r\n            </div>\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\nexport default StorageView\r\n"]},"metadata":{},"sourceType":"module"}