{"ast":null,"code":"import React, { Component } from 'react';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\n\nclass GrowCalc extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      LastData: [],\n      CurrentData: []\n    };\n  }\n\n  async getData() {\n    let ts = Date.now();\n    let date_ob = new Date(ts);\n    let month = date_ob.getMonth() + 1;\n    let year = date_ob.getFullYear();\n    let LastData = [];\n    let CurrentData = [];\n    await axios.get(`http://localhost:3000/MonthDateRoute/Month/${month - 1}.${year}`).then(res => {\n      // console.log(res.data)\n      LastData = res.data;\n    });\n    await axios.get(`http://localhost:3000/MonthDateRoute/Month/${month}.${year}`).then(res => {\n      // console.log(res.data)\n      CurrentData = res.data;\n    });\n    console.log(LastData);\n    console.log(CurrentData);\n    this.setState({\n      LastData: LastData,\n      CurrentData: CurrentData\n    }); //get last year currecnt month data\n    //and this year month data\n\n    this.CompareData();\n  }\n\n  calcGrowth(Mt, M0) {\n    console.log(Mt + '||' + M0);\n\n    if (Mt === M0) {\n      return 1;\n    } else if (Mt === 0 && M0 !== 0) {\n      return 0;\n    } else if (Mt !== 0 && M0 === 0) {\n      return M0 / Mt + 1;\n    } else {\n      return Mt / M0 + 1;\n    } // let q = M0/Mt;\n    // Math.pow(q,t)\n\n  }\n\n  CompareData() {\n    let CurrntData = this.state.CurrentData;\n    let LastData = this.state.LastData;\n    let PredictedData = [];\n\n    if (this.state.LastData.length !== 0 && this.state.CurrentData.length !== 0) {\n      console.log(\"letsBegin\");\n\n      if (this.state.LastData.length >= this.state.CurrentData.length) {\n        this.state.CurrentData.forEach((CurrentData, index) => {\n          PredictedData.push({\n            AggreStorageTotal: CurrentData.AggreStorageTotal * this.calcGrowth(CurrentData.AggreStorageTotal, LastData[index].AggreStorageTotal),\n            AggreStorageUsegeAmmount: CurrentData.AggreStorageUsegeAmmount * this.calcGrowth(CurrentData.AggreStorageUsegeAmmount, LastData[index].AggreStorageUsegeAmmount),\n            StorageRequests: CurrentData.StorageRequests * this.calcGrowth(CurrentData.StorageRequests, LastData[index].StorageRequests),\n            bugReports: CurrentData.bugReports * this.calcGrowth(CurrentData.bugReports, LastData[index].bugReports),\n            users: CurrentData.users * this.calcGrowth(CurrentData.users, LastData[index].users)\n          });\n        });\n        this.setState({\n          PredictedData: PredictedData\n        });\n      } else {\n        this.state.LastData.forEach((LastData, index) => {\n          console.log(CurrntData[index]);\n          PredictedData.push({\n            AggreStorageTotal: CurrntData[index].AggreStorageTotal * this.calcGrowth(CurrntData[index].AggreStorageTotal, LastData.AggreStorageTotal),\n            AggreStorageUsegeAmmount: CurrntData[index].AggreStorageUsegeAmmount * this.calcGrowth(CurrntData[index].AggreStorageUsegeAmmount, LastData.AggreStorageUsegeAmmount),\n            StorageRequests: CurrntData[index].StorageRequests * this.calcGrowth(CurrntData[index].StorageRequests, LastData.StorageRequests),\n            bugReports: CurrntData[index].bugReports * this.calcGrowth(CurrntData[index].bugReports, LastData.bugReports),\n            users: CurrntData[index].users * this.calcGrowth(CurrntData[index].users, LastData.users)\n          });\n        });\n        this.setState({\n          PredictedData: PredictedData\n        });\n      }\n    } else {\n      console.log('Error');\n    }\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, \"Hello\");\n  }\n\n}\n\nexport default withRouter(GrowCalc);","map":{"version":3,"sources":["C:/Users/ben78/Desktop/DSOS/Frontend/dsos/src/components/GrowCalc.js"],"names":["React","Component","axios","withRouter","GrowCalc","constructor","props","state","LastData","CurrentData","getData","ts","Date","now","date_ob","month","getMonth","year","getFullYear","get","then","res","data","console","log","setState","CompareData","calcGrowth","Mt","M0","CurrntData","PredictedData","length","forEach","index","push","AggreStorageTotal","AggreStorageUsegeAmmount","StorageRequests","bugReports","users","componentDidMount","render"],"mappings":"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","sourcesContent":["import React,{Component}from 'react';\r\nimport axios from 'axios';\r\nimport {withRouter}from 'react-router-dom'\r\n\r\nclass GrowCalc extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            LastData:[],\r\n            CurrentData:[]\r\n        }\r\n    }\r\n    async getData(){\r\n        let ts=Date.now()\r\n        let date_ob = new Date(ts);\r\n        let month = date_ob.getMonth() + 1;\r\n        let year = date_ob.getFullYear();\r\n        let LastData=[];\r\n        let CurrentData=[];\r\n        await axios.get(`http://localhost:3000/MonthDateRoute/Month/${month-1}.${year}`)\r\n            .then((res)=>{\r\n            // console.log(res.data)\r\n            LastData=res.data;\r\n        })\r\n        await axios.get(`http://localhost:3000/MonthDateRoute/Month/${month}.${year}`)\r\n            .then((res)=>{\r\n                    // console.log(res.data)\r\n                    CurrentData=res.data;\r\n                })\r\n        console.log(LastData);\r\n        console.log(CurrentData);\r\n        this.setState({\r\n            LastData:LastData,\r\n            CurrentData:CurrentData})\r\n        //get last year currecnt month data\r\n        //and this year month data\r\n        this.CompareData();\r\n    }\r\n    calcGrowth(Mt,M0){\r\n        console.log(Mt+'||'+M0);\r\n        if(Mt===M0)\r\n        {\r\n            return(1);\r\n        }else if(Mt===0&&M0!==0)\r\n        {\r\n            return(0);\r\n        }else if(Mt!==0&&M0===0){\r\n            return((M0/Mt)+1)\r\n        }else{\r\n            return((Mt/M0)+1)\r\n        }\r\n        // let q = M0/Mt;\r\n        // Math.pow(q,t)\r\n\r\n    }\r\n    CompareData(){\r\n        let CurrntData=this.state.CurrentData;\r\n        let LastData=this.state.LastData;\r\n        let PredictedData=[];\r\n        if(this.state.LastData.length!==0&&this.state.CurrentData.length!==0)\r\n        {\r\n            console.log(\"letsBegin\")\r\n            if(this.state.LastData.length>=this.state.CurrentData.length)\r\n            {\r\n                this.state.CurrentData.forEach((CurrentData,index)=>{\r\n                    PredictedData.push({\r\n                        AggreStorageTotal:CurrentData.AggreStorageTotal*this.calcGrowth(CurrentData.AggreStorageTotal,LastData[index].AggreStorageTotal),\r\n                        AggreStorageUsegeAmmount:CurrentData.AggreStorageUsegeAmmount*this.calcGrowth(CurrentData.AggreStorageUsegeAmmount,LastData[index].AggreStorageUsegeAmmount),\r\n                        StorageRequests:CurrentData.StorageRequests*this.calcGrowth(CurrentData.StorageRequests,LastData[index].StorageRequests),\r\n                        bugReports:CurrentData.bugReports*this.calcGrowth(CurrentData.bugReports,LastData[index].bugReports),\r\n                        users:CurrentData.users*this.calcGrowth(CurrentData.users,LastData[index].users),\r\n                    })    \r\n                })\r\n                this.setState({PredictedData:PredictedData})\r\n            }else{\r\n                this.state.LastData.forEach((LastData,index)=>{\r\n                    console.log(CurrntData[index]);\r\n                    PredictedData.push({\r\n                        AggreStorageTotal:CurrntData[index].AggreStorageTotal*this.calcGrowth(CurrntData[index].AggreStorageTotal,LastData.AggreStorageTotal),\r\n                        AggreStorageUsegeAmmount:CurrntData[index].AggreStorageUsegeAmmount*this.calcGrowth(CurrntData[index].AggreStorageUsegeAmmount,LastData.AggreStorageUsegeAmmount),\r\n                        StorageRequests:CurrntData[index].StorageRequests*this.calcGrowth(CurrntData[index].StorageRequests,LastData.StorageRequests),\r\n                        bugReports:CurrntData[index].bugReports*this.calcGrowth(CurrntData[index].bugReports,LastData.bugReports),\r\n                        users:CurrntData[index].users*this.calcGrowth(CurrntData[index].users,LastData.users),\r\n                    })   \r\n                })\r\n                this.setState({PredictedData:PredictedData})\r\n            }\r\n        }else{\r\n            console.log('Error')\r\n        }\r\n\r\n    }\r\n    componentDidMount(){\r\n        this.getData();\r\n    }\r\n    render(){\r\n        return(\r\n            <>\r\n            Hello\r\n            </>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(GrowCalc)"]},"metadata":{},"sourceType":"module"}